<template>
  <section id="illustration">
    <svg
      class="svg_container"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1122.93 756.01"
    >
      <g id="svg_body">
        <path
          class="illu_path"
          :stroke-width="[$colorMode.value === 'light' ? '2' : '1.5']"
          fill="transparent"
          d="M630.78,603.9c-43.65-8.65-88.73-7.62-132.91-2.35-12.98,1.55-27.49,4.41-34.7,15.32-7.21,10.91,2.04,27.84,14.56,25.98-13.62,2.24-32.58,2.56-32.31,17.63,.26,14.11,15.43,15.41,29.95,16.25v1.03c-6.74,0-13.47,1.64-18.31,6.33-5.23,25.73,35.46,27.13,56.98,29.64,111.42,12.97,221.12,18.02,333.21,9.01,31.44-2.53,70.94-17.85,87.65-44.6,10.12-16.2,10.32-36.46,10.2-55.55-.42-68.89-1.31-153.07-29.39-215.98-10.12-22.66-23.83-44.02-42.27-60.62-29.94-26.95-70.22-39.58-110.06-45.47-6.79-1-14.25-2.17-18.7-7.39-6.74-7.89-2.24-20.99,6.34-26.83,8.58-5.84,19.5-8.07,29.86-8.58,22.67-1.12,13.36-1.05,35.97-3.01,37.82-3.29,78.99-9.43,104.73-37.34,27.1-29.39,31.99-78.05,66.77-97.76,7.72-4.38,16.53-6.98,23.38-12.62,6.85-5.64,11.18-16.02,6.36-23.47-4.18-6.45-12.74-6.74-20.63-6.86v-.87c11.83-.23,26.33-4.42,25.69-15.77-.62-11.13-14.68-13.23-26.45-12.05l-.13-.42c6.44-.97,12.88-2.46,17.97-6.4,6.16-4.78,9.24-14.45,4.36-20.52-4.04-5.03-11.38-5.55-17.83-5.66-27.86-.47-57.91-.28-80.48,16.06-16.37,11.85-26.2,30.45-36.12,48.06-14.74,26.14-32.11,52.65-58.73,66.49-30.69,15.95-37.61,11.79-71.93,7.48-36.99-6.43-74.33-10.62-111.77-13.35-76.48-5.57-153.29-5.52-229.87-2.02-75.99,3.47-151.79,10.52-227.46,18.11-36.91,3.7-73.77,8.14-110.27,14.83-9.25,1.69-18.48,3.53-27.67,5.54-8.18,1.79-16.97,3.11-24.73,6.34-5.02,2.1-9.44,5.56-11,10.97-1.4,4.83,.07,9.52,4.35,12.29,6.23,4.04,14.53,6.03,21.61,7.97,8.2,2.24,16.55,3.75,25,4.68l.17-.02c-17.79,2.78-34.59,10.54-47.96,22.66-1.78,1.61-4.85,3.93-5.75,6.22-1.68,4.27,.25,7.54,3.76,9.79,3.88,2.49,8.66,3.79,13.07,5,9.76,2.68,19.83,3.91,29.84,5.22l-.17,.02h0c-18,4.16-31.21,21.16-30.8,39.63,0,.35,.28,.61,.62,.62,49.23,1.43,98.47,2.86,147.7,4.29,24.62,.72,49.23,1.43,73.85,2.15,22.14,.64,44.34,1.72,66.49,1.16,19.94-.5,40.09-2.44,59.24-8.31,17.51-5.37,35.68-14.13,47.72-28.35,5.48-6.47,9.51-14.07,11.43-22.34,1.56-6.73,1.89-14.69,6.49-20.25,6.4-7.75,18.7-7.87,27.81-7.21,10.46,.75,20.85,2.91,31.35,1.32,9.5-1.44,17.84-5.86,23.59-13.64,5.75-7.78,9-17.83,10.57-27.29s1.11-21.26,8.43-28.64c7.95-8.01,20.3-10.02,29.77-15.71,.26-.16,.43-.58,.22-.86-6.51-8.65-13.65-16.99-19.01-26.43-5.76-10.15-7.38-20.24-6.7-31.77,.62-10.41,1.88-21.36-1.44-31.46-2.81-8.56-8.89-14.94-16.55-19.46-8.23-4.86-17.65-7.77-26.82-10.25-10.74-2.9-21.75-4.86-32.85-5.67-20.18-1.48-42.05,.12-59.26,11.73-32.66,22.02-45.28,70.84-87.65,78.33-23.22,4.11-46.62-3.52-69.94-1.62-19.73,1.6-37.97,10.57-53.27,22.8-17.6,14.07-31.16,32.37-43.7,50.9-13.29,19.63-25.96,39.68-37.88,60.17-11.88,20.42-23.09,41.22-33.91,62.22s-21.97,41.71-31.11,63.31c-8.02,18.94-13.78,40.69-5.47,60.56,7.84,18.73,25.41,31.14,43.56,38.76,21.64,9.07,45.13,14.15,67.68,20.46,23.75,6.64,47.44,13.5,71.44,19.2,46.99,11.17,94.9,18.81,143.13,21.78,24.55,1.51,49.19,1.81,73.77,.69,9.99-.45,21.24-.49,29.77-6.47,5.91-4.14,10.65-11.61,8.47-19.03-1.82-6.19-7.3-9.51-14.03-9.55,7.9,.35,15.78-.31,23.48-2.19,3.34-.82,6.64-1.84,9.85-3.07,1.37-.53,5.37-1.47,6.41-2.78,1.12-1.4,.55-2.06-.06-3.58-4.92-12.35-16.97-21.07-30.12-22.3l.17-.02c8.17-1.87,16.13-4.49,23.75-8,6.2-2.86,13.52-6.26,16.82-12.65,2.23-4.32,2.36-10.19-1.19-13.85-1.99-2.05-4.81-2.98-7.48-3.72-4.83-1.34-9.75-2.41-14.63-3.54-37-8.59-74.58-14.65-112.4-18.14-19.7-1.82-39.48-2.82-58.72-7.78-16.64-4.29-33.62-10.08-48.94-17.95-13.49-6.93-26.43-17.09-30.54-32.37-4.51-16.75,2.64-34.04,12.15-47.66,4.82-6.91,10.86-15.19,18.42-19.28,12.49-6.77,17.94,8.19,20.02,17.88,3.81,17.73,1.97,37.32,.42,55.24-3.15,36.53-11.12,72.39-19,108.13-7.72,35.01-15.4,70.17-18.46,105.96-2.91,33.98-1.32,68.92,12.49,100.6,11.15,25.59,30.1,47.43,56.1,58.49,23.46,9.98,49.73,10.73,74.62,6.73,29.03-4.67,56.74-15.36,81.06-31.93,24.99-17.04,46.2-39.3,63.45-64.06,19.68-28.25,34.06-59.87,45.34-92.31,11.82-34,19.26-68.97,28.43-103.7,4.31-16.33,10.07-33.33,21.71-46,8.67-9.44,20.25-16.27,32.9-18.67,12.71-2.41,26.1,.06,36.72,7.59,13.96,9.89,21.23,26.27,25.36,42.37,4.78,18.65,6.89,38.09,8.71,57.21s2.94,39.03,4.03,58.56c1.01,18.14,1.76,36.37,3.77,54.43,1.58,14.2,4.25,28.61,10.54,41.55,6.55,13.47,17.1,23.58,30.75,29.74,15.05,6.79,31.95,10.1,48.24,12.26,14.06,1.87,28.8,3.09,42.92,1.01,7.25-1.07,21.37-4.4,21.84-14.05,.19-3.95-2.6-9.56-5.01-12.61-3.32-4.22-8.24-7.09-12.7-9.94l-.32-.09c11.77,.68,20.98-11.38,19.29-22.64-1.87-12.43-13.34-20.8-25.34-21.17l12.35-14.27c3.83-4.42,7.97-8.71,11.48-13.39,2.68-3.57,4.03-7.9,1.31-11.86-2.53-3.68-6.98-5.85-11-7.46-9.6-3.83-20.11-4.32-29.89-7.53-9.5-3.11-17.49-9.28-23.6-17.12-13.97-17.91-16.66-41.07-18.46-62.97-2.01-24.49-4.95-48.82-8.68-73.11-1.9-12.36-3.93-24.71-5.96-37.05-1.74-10.57-3.51-21.16-6.11-31.56-2.5-9.99-5.79-19.84-10.57-28.99s-11.49-17.72-19.33-24.87c-15.54-14.16-34.83-24.52-54.79-30.92-19.98-6.4-41.32-8.82-62.2-6.48-19.18,2.15-37.78,8.4-54.39,18.22-16.16,9.56-30.4,22.44-41.17,37.85-2.69,3.85-5.15,7.85-7.38,11.98"
        />
      </g>
    </svg>
  </section>
</template>

<script>
export default {
  components: {},

  mounted() {
    this.svgScroll()
  },

  methods: {
    svgScroll() {
      // Svg elements and position
      const path = document.querySelector('.illu_path')
      const illu = document.querySelector('#illustration')
      const illuPosition = illu.offsetTop - illu.clientHeight

      window.addEventListener('scroll', () => {
        // Get how much of the element (0->1) has been scrolled
        const progress =
          (document.documentElement.scrollTop +
            document.body.scrollTop -
            illuPosition) /
          (document.documentElement.scrollHeight -
            document.documentElement.clientHeight -
            illuPosition)
        // Get and set path data and draw the line
        const pathLength = path.getTotalLength()
        path.style.strokeDasharray = pathLength
        path.style.strokeDashoffset = pathLength
        const drawLength = pathLength * progress
        path.style.strokeDashoffset = pathLength - drawLength
      })
    }
  }
}
</script>

<style scoped>
section {
  background-color: transparent;
  min-height: 101vh;
  width: 100vw;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
}

.svg_container {
  display: flex;
  max-height: 100vh;
}

path {
  stroke: var(--color);
}

#svg_body > .body_path {
  stroke-dasharray: 10000;
  stroke-dashoffset: 10000;
  fill: none;
}

@media only screen and (max-width: 640px) {
}

@media (min-width: 640px) and (max-width: 1024px) {
}
</style>
